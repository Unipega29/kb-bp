<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Pips Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        label, select, input, button {
            margin: 10px 0;
            display: block;
        }
        .result {
            margin-top: 20px;
            font-weight: bold;
            color: #3cb371;
        }
    </style>
</head>
<body>
    <h1>Comprehensive Pips Calculator</h1>
    
    <label for="currency">Select Currency Pair:</label>
    <select id="currency" onchange="updateCurrencyDisplay()">
        <option value="BTCUSD">BTCUSD</option>
        <option value="USDJPY">USDJPY</option>
        <option value="EURUSD">EURUSD</option>
        <option value="GBPJPY">GBPJPY</option>
        <option value="GBPUSD">GBPUSD</option>
        <option value="XAUUSD">XAUUSD</option>
    </select>

    <h3>Convert Between Points and Pips</h3>
    <label for="mt4Points">Enter MT4 Points:</label>
    <input type="number" id="mt4Points" step="any">
    <label for="pips">Enter Pips:</label>
    <input type="number" id="pips" step="any">
    <button onclick="convertPointsToPips()">Convert Points to Pips</button>
    <button onclick="convertPipsToPoints()">Convert Pips to Points</button>
    <div id="conversionResult" class="result"></div>

    <h3>Calculate Profit or Loss</h3>
    <label id="exchangeRateLabel" for="exchangeRate">Enter Rate:</label>
    <input type="number" id="exchangeRate" step="any">
    <label for="lot">Enter Lot Size:</label>
    <input type="number" id="lot" step="any">
    <label for="pipsDelta">Enter Pips:</label>
    <input type="number" id="pipsDelta" step="any">
    <button onclick="calculateProfit()">Calculate Profit</button>
    <div id="profitResult" class="result"></div>

    <script>
        // Conversion factors for Pips
        const pipsConversion = {
            "BTCUSD": 1,
            "USDJPY": 0.01,
            "EURUSD": 0.0001,
            "GBPJPY": 0.01,
            "GBPUSD": 0.0001,
            "XAUUSD": 0.01
        };

        // Decimal places for each currency pair
        const decimalPlaces = {
            "BTCUSD": 2,
            "USDJPY": 3,
            "EURUSD": 5,
            "GBPJPY": 3,
            "GBPUSD": 5,
            "XAUUSD": 3
        };

        // Update the currency display in the profit section
        function updateCurrencyDisplay() {
            const currency = document.getElementById("currency").value;
            const label = document.getElementById("exchangeRateLabel");
            label.innerText = `Enter ${currency} Rate:`;
        }

        // Convert Points to Pips
        function convertPointsToPips() {
            const currency = document.getElementById("currency").value;
            const mt4Points = parseFloat(document.getElementById("mt4Points").value);

            if (isNaN(mt4Points)) {
                document.getElementById("conversionResult").innerText = 'Please enter a valid value for Points.';
                return;
            }

            const conversionFactor = pipsConversion[currency];
            const pips = mt4Points * conversionFactor * 10;
            document.getElementById("pips").value = pips.toFixed(2);
            document.getElementById("conversionResult").innerText = 
                `${mt4Points} Points = ${pips.toFixed(2)} Pips.`;
        }

        // Convert Pips to Points
        function convertPipsToPoints() {
            const currency = document.getElementById("currency").value;
            const pips = parseFloat(document.getElementById("pips").value);

            if (isNaN(pips)) {
                document.getElementById("conversionResult").innerText = 'Please enter a valid value for Pips.';
                return;
            }

            const conversionFactor = pipsConversion[currency];
            const points = pips / (conversionFactor * 10);
            document.getElementById("mt4Points").value = points.toFixed(2);
            document.getElementById("conversionResult").innerText = 
                `${pips} Pips = ${points.toFixed(2)} Points.`;
        }

        // Calculate Profit or Loss
        function calculateProfit() {
            const currency = document.getElementById("currency").value;
            const lot = parseFloat(document.getElementById("lot").value);
            const pipsDelta = parseFloat(document.getElementById("pipsDelta").value);
            const exchangeRate = parseFloat(document.getElementById("exchangeRate").value);

            if (isNaN(lot) || isNaN(pipsDelta) || isNaN(exchangeRate)) {
                alert("Please enter valid values!");
                return;
            }

            const pipValueUSD = 10; // Assume 1 pip = $10 for major pairs
            const profitUSD = lot * pipsDelta * pipValueUSD;
            const profitJPY = profitUSD * exchangeRate;

            document.getElementById("profitResult").innerText = 
                `Profit/Loss: ${profitJPY.toFixed(2)} JPY`;
        }
    </script>
</body>
</html>
